import{_ as E,$ as S,j as e,r as F,B as M,J as c,l as P}from"./index-4JUCeTbF.js";import{c as k,e as A,f as z}from"./useSnackbar-CkwChgxw.js";import{u as C,F as $,S as p}from"./useQueryParam-DhHureY5.js";import{D as q}from"./SebraDialog-CxgIUny0.js";import{s as j}from"./FlexGrow-DzYTkLTw.js";import{T as D}from"./Tooltip-D5iUx3eh.js";var m={},I=S;Object.defineProperty(m,"__esModule",{value:!0});var b=m.default=void 0,B=I(E()),G=e;b=m.default=(0,B.default)((0,G.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var g={},H=S;Object.defineProperty(g,"__esModule",{value:!0});var w=g.default=void 0,O=H(E()),V=e;w=g.default=(0,O.default)((0,V.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const Y=({editDisplayMode:o="row",state:d,...t})=>{const[r,l]=C("filters",$,[]),[x,y]=C("search",p,""),[f,u]=F.useState(o),_={editDisplayMode:f,setEditDisplayMode:u},h=k({editDisplayMode:f,initialState:{showGlobalFilter:!!x},state:{columnFilters:r,globalFilter:x,...d},onColumnFiltersChange:l,onGlobalFilterChange:y,onCreatingRowSave:async({row:a,values:s,table:n})=>{var i;await((i=t.onCreate)==null?void 0:i.call(t,{...a.original,...s})),n.setCreatingRow(null),u(o)},onEditingRowSave:async({row:a,values:s,table:n})=>{var i;await((i=t.onUpdate)==null?void 0:i.call(t,{...a.original,...s},a.original)),n.setEditingRow(null),u(o)},displayColumnDefOptions:{"mrt-row-actions":{minSize:120,size:120,maxSize:120,grow:!1}},muiTablePaperProps:{sx:{...j,mx:-1,boxShadow:0}},muiTableContainerProps:{sx:{...j,height:"300px"}},positionActionsColumn:"last",renderRowActions:J(t,_),renderTopToolbarCustomActions:K(),muiTableBodyCellProps:({row:a,column:s,table:n})=>({onDoubleClick:()=>{u("row"),n.setEditingRow(n.getState().editingRow===a?null:a),queueMicrotask(()=>{const i=n.refs.editInputRefs.current[s.id];i==null||i.focus()})},onKeyDown:i=>{var v,R;i.key==="Escape"&&n.setEditingRow(null),i.key==="Enter"&&((R=(v=n.options).onEditingRowSave)==null||R.call(v,{exitEditingMode:()=>n.setEditingRow(null),row:a,table:n,values:a==null?void 0:a._valuesCache}))}}),...t}),{isLoading:T}=h.getState();return T?null:e.jsx(A,{table:h})},J=(o,d)=>({row:t,table:r})=>e.jsxs(M,{sx:{display:"flex",gap:"1rem"},children:[e.jsx(D,{title:"Edit",children:e.jsx(c,{onClick:()=>[r.setEditingRow(t),d.setEditDisplayMode("modal")],children:e.jsx(z,{})})}),e.jsx(q,{id:t.id,onClick:()=>{var l;(l=o.onDelete)==null||l.call(o,t.original),r.setEditingRow(null)},children:l=>e.jsx(D,{title:"Delete",children:e.jsx(c,{color:"error",...P(l),children:e.jsx(w,{})})})})]}),K=()=>({table:o})=>e.jsx(c,{onClick:()=>{o.setCreatingRow(!0)},children:e.jsx(b,{})});export{Y as D,b as d};
