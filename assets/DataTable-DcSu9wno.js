import{r as T,$ as C,j as e,B as g,n as k,o as A,T as P,ah as M,ai as p,f as z,aj as $,a0 as h,a2 as q}from"./index-c9moDX13.js";import{u as E,c as B,d as G,e as H,M as O,f as V,a as Q}from"./RouterLink-DawW7D0e.js";import{u as D,F as K,S as L}from"./useQueryParam-Dd80mAX8.js";import{T as w}from"./Tooltip-CxtVL5MK.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new t.Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="0e600d7b-25a8-4dfc-8617-03eef93d38eb",t._sentryDebugIdIdentifier="sentry-dbid-0e600d7b-25a8-4dfc-8617-03eef93d38eb")}catch{}})();const U=({editDisplayMode:t="row",state:n,...a})=>{const[d,r]=D("filters",K,[]),[l,b]=D("search",L,""),[m,u]=T.useState(t),c={editDisplayMode:m,setEditDisplayMode:u},f=E({editDisplayMode:m,initialState:{showGlobalFilter:!!l},state:{columnFilters:d,globalFilter:l,...n},onColumnFiltersChange:r,onGlobalFilterChange:b,onCreatingRowSave:async({row:o,values:x,table:s})=>{var i;await((i=a.onCreate)==null?void 0:i.call(a,{...o.original,...x})),s.setCreatingRow(null),u(t)},onEditingRowSave:async({row:o,values:x,table:s})=>{var i;await((i=a.onUpdate)==null?void 0:i.call(a,{...o.original,...x})),s.setEditingRow(null),u(t)},displayColumnDefOptions:{"mrt-row-actions":{minSize:120,size:120,maxSize:120,grow:!1}},muiTablePaperProps:{sx:{...C,mx:-1,boxShadow:0}},muiTableContainerProps:{sx:{...C,height:"300px"}},positionActionsColumn:"last",renderRowActions:F(a,c),renderTopToolbarCustomActions:I(),muiTableBodyCellProps:({row:o,column:x,table:s})=>({onDoubleClick:()=>{u("row"),s.setEditingRow(s.getState().editingRow===o?null:o),queueMicrotask(()=>{const i=s.refs.editInputRefs.current[x.id];i==null||i.focus()})},onKeyDown:i=>{var j,v;i.key==="Escape"&&s.setEditingRow(null),i.key==="Enter"&&((v=(j=s.options).onEditingRowSave)==null||v.call(j,{exitEditingMode:()=>s.setEditingRow(null),row:o,table:s,values:o==null?void 0:o._valuesCache}))}}),...a});return e.jsx(B,{table:f})},W=({editDisplayMode:t="row",...n})=>{const[a,d]=T.useState(t),l=E({editDisplayMode:a,enableColumnFilters:!1,enableDensityToggle:!1,positionActionsColumn:"last",renderRowActions:F(n,{editDisplayMode:a,setEditDisplayMode:d}),...n,renderTopToolbarCustomActions:I()});if(l.getState().isLoading)return null;const{creatingRow:b,editingRow:m}=l.getState(),{rows:u}=l.getRowModel();return e.jsxs(g,{children:[e.jsx(G,{table:l}),u.map(c=>e.jsx(k,{variant:"outlined",sx:{my:1},children:e.jsx(A,{sx:{py:1},children:c.getVisibleCells().map(f=>e.jsxs(g,{sx:{my:1,display:"flex",flexDirection:"row",alignItems:"baseline",gap:1},children:[e.jsxs(P,{variant:"body2",fontWeight:600,children:[f.column.columnDef.header,":"]}),e.jsx(H,{component:g,table:l,cell:f,rowRef:null,staticRowIndex:c.index,sx:{p:0,border:0}})]},f.id))})},c.id)),(b||a==="modal"&&m)&&e.jsx(O,{open:!0,table:l})]})};var y={},J=p;Object.defineProperty(y,"__esModule",{value:!0});var _=y.default=void 0,N=J(M()),X=e;_=y.default=(0,N.default)((0,X.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var R={},Y=p;Object.defineProperty(R,"__esModule",{value:!0});var S=R.default=void 0,Z=Y(M()),ee=e;S=R.default=(0,Z.default)((0,ee.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const se=t=>{const n=z();return $(n.breakpoints.down("sm"))?e.jsx(W,{...t}):e.jsx(U,{...t})},I=()=>({table:t})=>e.jsx(h,{onClick:()=>t.setCreatingRow(!0),children:e.jsx(_,{})}),F=(t,n)=>({row:a,table:d})=>e.jsxs(g,{sx:{display:"flex",gap:"1rem"},children:[e.jsx(w,{title:"Edit",children:e.jsx(h,{onClick:()=>[d.setEditingRow(a),n.setEditDisplayMode("modal")],children:e.jsx(V,{})})}),e.jsx(Q,{id:a.id,onClick:()=>{var r;(r=t.onDelete)==null||r.call(t,a.original),d.setEditingRow(null)},children:r=>e.jsx(w,{title:"Delete",children:e.jsx(h,{color:"error",...q(r),children:e.jsx(S,{})})})})]});export{se as D,_ as d};
//# sourceMappingURL=DataTable-DcSu9wno.js.map
