{"version":3,"file":"HomeWrapper-CUYY9m2z.js","sources":["../../src/utils/cookie.ts","../../src/features/home/components/HomeWrapper.tsx"],"sourcesContent":["const WORKSPACE_COOKIE = 'payload-workspace';\n\nexport function getCookie(name: string) {\n  const regex = new RegExp(`(^|;)\\\\s*${name}=([^;]*)`);\n  const match = document.cookie.match(regex);\n  return match ? decodeURIComponent(match[2]) : '';\n}\n\nexport function setCookie(name: string, value: string | undefined) {\n  const expires = '; expires=Fri, 31 Dec 9999 23:59:59 GMT';\n  document.cookie = `${name}=${value || ''}${expires}; path=/`;\n}\n\nexport const getCookieWorkspace = () => getCookie(WORKSPACE_COOKIE);\nexport const setCookieWorkspace = (value: string | undefined) => setCookie(WORKSPACE_COOKIE, value);\n","import { useEffect } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\n\n// material-ui\nimport { Chip, Fade, Tab, Tabs } from '@mui/material';\nimport { useQueryClient } from '@tanstack/react-query';\n\n// project imports\nimport FlexGrow from '@/ui-component/extended/FlexGrow';\nimport { setCookieWorkspace } from '@/utils/cookie';\n\ntype TabItem = {\n  id: string;\n  title: string;\n  url: string;\n};\n\nconst tabItems: TabItem[] = [\n  { id: 'home', title: 'Hem', url: '/home' },\n  { id: 'assignments', title: 'Uppdrag', url: '/home/assignments' },\n  { id: 'contacts', title: 'Kontakter', url: '/home/contacts' },\n  { id: 'companies', title: 'Bolag', url: '/home/companies' },\n  { id: 'leads', title: 'Leads', url: '/home/leads' }\n];\n\nconst HomeWrapper = () => {\n  const queryClient = useQueryClient();\n  const { pathname } = useLocation();\n  const { workspace } = useParams();\n  const selected = tabItems.findLastIndex((item) => pathname.startsWith(`/${workspace}${item.url}`));\n\n  useEffect(() => {\n    setCookieWorkspace(workspace);\n    queryClient.invalidateQueries();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [workspace]);\n\n  return (\n    <FlexGrow>\n      <Tabs variant=\"scrollable\" value={selected} sx={{ minHeight: 0 }} TabIndicatorProps={{ sx: { display: 'none' } }}>\n        {tabItems.map((item, index) => (\n          <Tab\n            key={item.id}\n            component=\"div\"\n            sx={{ p: 0, m: 0, mr: 1, minHeight: 0, minWidth: 0, fontWeight: 400 }}\n            disableRipple\n            label={\n              <>\n                <Fade in={index === selected} timeout={300}>\n                  <Chip\n                    component={Link}\n                    label={item.title}\n                    to={`/${workspace}${item.url}`}\n                    color=\"primary\"\n                    variant=\"filled\"\n                    sx={{ px: 1, '&:hover': { backgroundColor: 'primary.main' } }}\n                    clickable\n                  />\n                </Fade>\n                <Fade in={index !== selected} timeout={300}>\n                  <Chip\n                    component={Link}\n                    label={item.title}\n                    to={`/${workspace}${item.url}`}\n                    color=\"primary\"\n                    variant=\"outlined\"\n                    sx={{ px: 1, position: 'absolute', top: 0, left: 0 }}\n                    style={{ boxShadow: 'none' }}\n                    clickable\n                  />\n                </Fade>\n              </>\n            }\n          />\n        ))}\n      </Tabs>\n      <Outlet />\n    </FlexGrow>\n  );\n};\n\nexport default HomeWrapper;\n"],"names":["WORKSPACE_COOKIE","setCookie","name","value","expires","setCookieWorkspace","tabItems","HomeWrapper","queryClient","useQueryClient","pathname","useLocation","workspace","useParams","selected","item","useEffect","FlexGrow","jsx","Tabs","index","Tab","jsxs","Fragment","Fade","Chip","Link","Outlet"],"mappings":"8cAAA,MAAMA,EAAmB,oBAQT,SAAAC,EAAUC,EAAcC,EAA2B,CACjE,MAAMC,EAAU,0CAChB,SAAS,OAAS,GAAGF,CAAI,IAAIC,GAAS,EAAE,GAAGC,CAAO,UACpD,CAGO,MAAMC,EAAsBF,GAA8BF,EAAUD,EAAkBG,CAAK,ECG5FG,EAAsB,CAC1B,CAAE,GAAI,OAAQ,MAAO,MAAO,IAAK,OAAQ,EACzC,CAAE,GAAI,cAAe,MAAO,UAAW,IAAK,mBAAoB,EAChE,CAAE,GAAI,WAAY,MAAO,YAAa,IAAK,gBAAiB,EAC5D,CAAE,GAAI,YAAa,MAAO,QAAS,IAAK,iBAAkB,EAC1D,CAAE,GAAI,QAAS,MAAO,QAAS,IAAK,aAAc,CACpD,EAEMC,EAAc,IAAM,CACxB,MAAMC,EAAcC,IACd,CAAE,SAAAC,GAAaC,IACf,CAAE,UAAAC,GAAcC,IAChBC,EAAWR,EAAS,cAAeS,GAASL,EAAS,WAAW,IAAIE,CAAS,GAAGG,EAAK,GAAG,EAAE,CAAC,EAEjGC,OAAAA,EAAAA,UAAU,IAAM,CACdX,EAAmBO,CAAS,EAC5BJ,EAAY,kBAAkB,CAAA,EAE7B,CAACI,CAAS,CAAC,SAGXK,EACC,CAAA,SAAA,CAACC,EAAAA,IAAAC,EAAA,CAAK,QAAQ,aAAa,MAAOL,EAAU,GAAI,CAAE,UAAW,GAAK,kBAAmB,CAAE,GAAI,CAAE,QAAS,MAAO,GAC1G,SAASR,EAAA,IAAI,CAACS,EAAMK,IACnBF,EAAA,IAACG,EAAA,CAEC,UAAU,MACV,GAAI,CAAE,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,UAAW,EAAG,SAAU,EAAG,WAAY,GAAI,EACpE,cAAa,GACb,MAEIC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAL,MAACM,EAAK,CAAA,GAAIJ,IAAUN,EAAU,QAAS,IACrC,SAAAI,EAAA,IAACO,EAAA,CACC,UAAWC,EACX,MAAOX,EAAK,MACZ,GAAI,IAAIH,CAAS,GAAGG,EAAK,GAAG,GAC5B,MAAM,UACN,QAAQ,SACR,GAAI,CAAE,GAAI,EAAG,UAAW,CAAE,gBAAiB,eAAiB,EAC5D,UAAS,EAAA,CAAA,EAEb,QACCS,EAAK,CAAA,GAAIJ,IAAUN,EAAU,QAAS,IACrC,SAAAI,EAAA,IAACO,EAAA,CACC,UAAWC,EACX,MAAOX,EAAK,MACZ,GAAI,IAAIH,CAAS,GAAGG,EAAK,GAAG,GAC5B,MAAM,UACN,QAAQ,WACR,GAAI,CAAE,GAAI,EAAG,SAAU,WAAY,IAAK,EAAG,KAAM,CAAE,EACnD,MAAO,CAAE,UAAW,MAAO,EAC3B,UAAS,EAAA,CAAA,EAEb,CAAA,EACF,CAAA,EA7BGA,EAAK,EAgCb,CAAA,EACH,QACCY,EAAO,EAAA,CACV,CAAA,CAAA,CAEJ"}