import{j as t,G as a,w as o,t as u}from"./index-DNJEeKpm.js";import{u as k,C}from"./index.esm-Bwd_M7fz.js";import{u as b}from"./useCompaniesQueries-Q7RF9lWC.js";import{S as j,A as y,u as i,a as l}from"./useSnackbar-DnV5oDFI.js";import{c as f,b as g,d as S}from"./useContactsQueries-j1wWPP27.js";const W=({formProps:r,...e})=>{const{data:c=[]}=b(),{register:s,control:p,handleSubmit:x,formState:{errors:h}}=k(r);return t.jsx(j,{...e,handleSubmit:x,children:t.jsxs(a,{container:!0,spacing:2,children:[t.jsx(a,{item:!0,xs:12,children:t.jsx(o,{fullWidth:!0,label:"Namn",type:"text",margin:"none",...s("contactName",{required:!0}),error:!!h.contactName})}),t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(o,{fullWidth:!0,label:"Email",type:"text",margin:"none",...s("email")})}),t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(o,{fullWidth:!0,label:"Telefonnummer",type:"text",margin:"none",...s("phone")})}),t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(C,{name:"companyId",control:p,render:({field:m})=>t.jsx(y,{options:c,getOptionKey:n=>n.id,getOptionLabel:n=>n.companyName,value:c.find(n=>n.id===m.value)||null,onChange:(n,d)=>m.onChange(d?d.id:void 0),renderInput:n=>t.jsx(o,{...n,label:"Bolag",variant:"outlined",fullWidth:!0})})})}),t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(o,{fullWidth:!0,label:"Befattning",type:"text",margin:"none",...s("jobTitle")})})]})})},w=()=>{const r=u(),{showSnackbar:e}=i();return l({mutationFn:f,onSuccess:()=>{r.invalidateQueries({queryKey:["contacts"]}),e("Kontakt skapat!")},onError:()=>{e("Ett fel uppstod när kontakten skulle skapas.","error")}})},N=()=>{const r=u(),{showSnackbar:e}=i();return l({mutationFn:g,onSuccess:()=>{r.invalidateQueries({queryKey:["contacts"]}),e("Kontakt uppdaterat!")},onError:()=>{e("Ett fel uppstod när kontakten skulle uppdateras.","error")}})},Q=()=>{const r=u(),{showSnackbar:e}=i();return l({mutationFn:S,onSuccess:()=>{r.invalidateQueries({queryKey:["contacts"]}),e("Kontakt borttaget!")},onError:()=>{e("Ett fel uppstod när kontakten skulle tas bort.","error")}})};export{W as C,N as a,Q as b,w as u};
