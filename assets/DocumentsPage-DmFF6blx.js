import{j as t,g as m,L as l,h as c,f as d}from"./index-DfCR3GxP.js";import{D as u,a as g,b as p,M as x}from"./useSnackbar-B8REVr8N.js";import{D,d as f}from"./DataTable-BY_Z_qkv.js";import{F as h}from"./FlexGrow-DODSQes3.js";import{u as j,a as C,e as R,D as k}from"./DocumentForm-4977N_o7.js";import{f as L,t as T}from"./date-DTZMJohd.js";import"./MoreHoriz-fH0G-uLH.js";import"./index.esm-DK0lv1HP.js";import"./Tooltip-BT2hWGEw.js";import"./useQueryParam-Dq3kROpH.js";const v=[{accessorKey:"documentName",header:"Dokumentnamn",Cell:({cell:o,row:a})=>t.jsx(m,{component:l,to:`/documents/${a.original.documentId}`,children:o.getValue()})},{accessorKey:"content.type",header:"Filtyp"},{accessorFn:o=>{var a;return c((a=o.content)==null?void 0:a.lastModified)},header:"Senast uppdaterad",filterVariant:"date-range",enableEditing:!1,Cell:({cell:o})=>L(T(o.getValue()))}],M=()=>{const{data:o=[],isLoading:a}=j(),{mutate:s}=C(),{mutate:r}=R();if(!a)return t.jsx(h,{children:t.jsx(D,{data:o,columns:v,getRowId:e=>`${e.documentId}`,state:{isLoading:a},onCreate:e=>s(e),onUpdate:e=>s(e),onDelete:e=>r(e),renderTopToolbarCustomActions:({table:e})=>t.jsx(d,{onClick:()=>e.setCreatingRow(!0),variant:"outlined",size:"small",startIcon:t.jsx(f,{}),sx:{textTransform:"none"},children:"Lägg till dokument"}),renderEditRowDialogContent:({row:e,table:n})=>t.jsxs(t.Fragment,{children:[t.jsx(u,{variant:"h4",color:"primary",children:n.getState().creatingRow?"Lägg till dokument":"Redigera dokument"}),t.jsx(g,{children:t.jsx(k,{sx:{mt:1},enableExistingDocuments:!!n.getState().creatingRow,formProps:{defaultValues:e.original},onChange:i=>{e._valuesCache=i}})}),t.jsx(p,{children:t.jsx(x,{row:e,table:n,variant:"text"})})]})})})};export{M as default};
