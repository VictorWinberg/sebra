import{_ as D,$ as S,j as e,r as F,B as M,I as c,J as P}from"./index-BUM_MQF7.js";import{c as k,g as A,h as z,d as I}from"./useSnackbar-B64PA2kK.js";import{u as C,F as $,S as q}from"./useQueryParam-DpE6DVf7.js";import{s as j}from"./FlexGrow-azjmjJYQ.js";import{T as E}from"./Tooltip-CEz5gZ0-.js";var m={},p=S;Object.defineProperty(m,"__esModule",{value:!0});var b=m.default=void 0,B=p(D()),G=e;b=m.default=(0,B.default)((0,G.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var g={},H=S;Object.defineProperty(g,"__esModule",{value:!0});var w=g.default=void 0,O=H(D()),V=e;w=g.default=(0,O.default)((0,V.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const X=({editDisplayMode:l="row",state:d,...t})=>{const[r,o]=C("filters",$,[]),[x,y]=C("search",q,""),[f,u]=F.useState(l),_={editDisplayMode:f,setEditDisplayMode:u},h=k({editDisplayMode:f,initialState:{showGlobalFilter:!!x},state:{columnFilters:r,globalFilter:x,...d},onColumnFiltersChange:o,onGlobalFilterChange:y,onCreatingRowSave:async({row:a,values:s,table:n})=>{var i;await((i=t.onCreate)==null?void 0:i.call(t,{...a.original,...s})),n.setCreatingRow(null),u(l)},onEditingRowSave:async({row:a,values:s,table:n})=>{var i;await((i=t.onUpdate)==null?void 0:i.call(t,{...a.original,...s},a.original)),n.setEditingRow(null),u(l)},displayColumnDefOptions:{"mrt-row-actions":{minSize:120,size:120,maxSize:120,grow:!1}},muiTablePaperProps:{sx:{...j,mx:-1,boxShadow:0}},muiTableContainerProps:{sx:{...j,height:"300px"}},positionActionsColumn:"last",renderRowActions:J(t,_),renderTopToolbarCustomActions:K(),muiTableBodyCellProps:({row:a,column:s,table:n})=>({onDoubleClick:()=>{u("row"),n.setEditingRow(n.getState().editingRow===a?null:a),queueMicrotask(()=>{const i=n.refs.editInputRefs.current[s.id];i==null||i.focus()})},onKeyDown:i=>{var v,R;i.key==="Escape"&&n.setEditingRow(null),i.key==="Enter"&&((R=(v=n.options).onEditingRowSave)==null||R.call(v,{exitEditingMode:()=>n.setEditingRow(null),row:a,table:n,values:a==null?void 0:a._valuesCache}))}}),...t}),{isLoading:T}=h.getState();return T?null:e.jsx(A,{table:h})},J=(l,d)=>({row:t,table:r})=>e.jsxs(M,{sx:{display:"flex",gap:"1rem"},children:[e.jsx(E,{title:"Edit",children:e.jsx(c,{onClick:()=>[r.setEditingRow(t),d.setEditDisplayMode("modal")],children:e.jsx(z,{})})}),e.jsx(I,{id:t.id,onClick:()=>{var o;(o=l.onDelete)==null||o.call(l,t.original),r.setEditingRow(null)},children:o=>e.jsx(E,{title:"Delete",children:e.jsx(c,{color:"error",...P(o),children:e.jsx(w,{})})})})]}),K=()=>({table:l})=>e.jsx(c,{onClick:()=>{l.setCreatingRow(!0)},children:e.jsx(b,{})});export{X as D,b as d};
