{"version":3,"file":"DocumentForm-B9AULJFS.js","sources":["../../node_modules/.pnpm/@mui+icons-material@5.15.17_@mui+material@5.15.17_@emotion+react@11.11.4_@types+react@18.3.1__ja4zlrgizp3rymmmuglkdwew7u/node_modules/@mui/icons-material/esm/CloudDownload.js","../../node_modules/.pnpm/@mui+icons-material@5.15.17_@mui+material@5.15.17_@emotion+react@11.11.4_@types+react@18.3.1__ja4zlrgizp3rymmmuglkdwew7u/node_modules/@mui/icons-material/esm/CloudUpload.js","../../src/features/documents/api/documentsApi.ts","../../src/features/documents/hooks/useDocumentsMutations.ts","../../src/features/documents/hooks/useDocumentsQueries.ts","../../src/ui-component/FileSelecter.tsx","../../src/hooks/useWindowDimension.ts","../../src/ui-component/Preview.tsx","../../src/features/documents/components/DocumentForm.tsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z\"\n}), 'CloudDownload');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z\"\n}), 'CloudUpload');","import { deleteQuery, insertQuery, selectAllQuery } from '@/api/DummyDB';\nimport { DocumentContent, pick, validateRequiredFields } from '@/utils';\n\nexport type DocumentRecord = DocumentReference & DocumentContent;\n\nexport type DocumentReference = {\n  documentId: string;\n  entityType: string;\n  entityId: string;\n};\n\nexport const fetchDocumentReferences = async (where: Partial<DocumentReference>): Promise<DocumentReference[]> => {\n  return await selectAllQuery<DocumentReference>('document_references', where);\n};\n\nexport const createDocumentReference = async (values: DocumentReference) => {\n  validateRequiredFields(values, ['documentId', 'entityType', 'entityId']);\n  await insertQuery<DocumentReference>('document_references', pick(values, ['documentId', 'entityType', 'entityId']));\n};\n\nexport const updateDocumentReference = async ({ row, where }: { row: DocumentReference; where: DocumentReference }) => {\n  await deleteDocumentReference(where);\n  await createDocumentReference(row);\n};\n\nexport const deleteDocumentReference = async (where: Partial<DocumentReference>) => {\n  await deleteQuery<DocumentReference>('document_references', pick(where, ['documentId', 'entityType', 'entityId']));\n};\n","import { useMutation, useQueryClient } from '@tanstack/react-query';\n\nimport { useSnackbar } from '@/hooks/useSnackbar';\nimport { createDocumentReference, deleteDocumentReference, updateDocumentReference } from '../api/documentsApi';\nimport { deleteFileFromIndexedDB, saveFileToIndexedDB } from '@/utils';\n\nexport const useSaveDocument = () => {\n  const queryClient = useQueryClient();\n  const { showSnackbar } = useSnackbar();\n\n  return useMutation({\n    mutationFn: saveFileToIndexedDB,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['documents'] });\n      showSnackbar('Dokumentet sparat!');\n    },\n    onError: () => {\n      showSnackbar('Ett fel uppstod när dokumentet skulle sparas.', 'error');\n    }\n  });\n};\n\nexport const useDeleteDocument = () => {\n  const queryClient = useQueryClient();\n  const { showSnackbar } = useSnackbar();\n\n  return useMutation({\n    mutationFn: (params: { documentId: string }) =>\n      Promise.all([deleteFileFromIndexedDB(params), deleteDocumentReference(params)]),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['documents'] });\n      queryClient.invalidateQueries({ queryKey: ['document_references'] });\n      showSnackbar('Dokumentet borttaget!');\n    },\n    onError: () => {\n      showSnackbar('Ett fel uppstod när dokumentet skulle tas bort.', 'error');\n    }\n  });\n};\n\nexport const useCreateDocumentReference = () => {\n  const queryClient = useQueryClient();\n  const { showSnackbar } = useSnackbar();\n\n  return useMutation({\n    mutationFn: createDocumentReference,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['document_references'] });\n      showSnackbar('Dokument skapat!');\n    },\n    onError: () => {\n      showSnackbar('Ett fel uppstod när dokumentet skulle skapas.', 'error');\n    }\n  });\n};\n\nexport const useUpdateDocumentReference = () => {\n  const queryClient = useQueryClient();\n  const { showSnackbar } = useSnackbar();\n\n  return useMutation({\n    mutationFn: updateDocumentReference,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['document_references'] });\n      showSnackbar('Dokument uppdaterat!');\n    },\n    onError: () => {\n      showSnackbar('Ett fel uppstod när dokumentet skulle uppdateras.', 'error');\n    }\n  });\n};\n\nexport const useDeleteDocumentReference = () => {\n  const queryClient = useQueryClient();\n  const { showSnackbar } = useSnackbar();\n\n  return useMutation({\n    mutationFn: deleteDocumentReference,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['document_references'] });\n      showSnackbar('Dokument borttaget!');\n    },\n    onError: () => {\n      showSnackbar('Ett fel uppstod när dokumentet skulle tas bort.', 'error');\n    }\n  });\n};\n","// third party\nimport { useQuery } from '@tanstack/react-query';\n\n// project imports\nimport { getAllFilesFromIndexedDB, getFileFromIndexedDB } from '@/utils/idb';\nimport { DocumentReference, fetchDocumentReferences } from '../api/documentsApi';\n\nexport const useDocuments = () => {\n  return useQuery({\n    queryKey: ['documents'],\n    queryFn: getAllFilesFromIndexedDB\n  });\n};\n\nexport const useDocument = (documentId: string | undefined) => {\n  return useQuery({\n    queryKey: ['documents', documentId],\n    queryFn: () => getFileFromIndexedDB(documentId!),\n    enabled: !!documentId\n  });\n};\n\nexport const useDocumentReferences = (where: Partial<DocumentReference> | undefined) => {\n  return useQuery({\n    queryKey: ['document_references', where],\n    queryFn: () => fetchDocumentReferences(where!),\n    enabled: where && Object.keys(where).length > 0\n  });\n};\n","import React from 'react';\n\n// material-ui\nimport { Button, ButtonProps } from '@mui/material';\n\n// assets\nimport { CloudUpload } from '@mui/icons-material';\n\ninterface FileSelectorProps extends Omit<ButtonProps, 'onChange'> {\n  onChange?: (data: File) => void;\n}\n\nconst FileSelector = ({ onChange, children, ...rest }: FileSelectorProps) => {\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      onChange?.(file);\n    }\n  };\n\n  return (\n    <Button component=\"label\" role={undefined} variant=\"contained\" tabIndex={-1} startIcon={<CloudUpload />} {...rest}>\n      {children}\n      <input type=\"file\" style={{ display: 'none' }} onChange={handleFileChange} />\n    </Button>\n  );\n};\n\nexport default FileSelector;\n","import { useEffect, useState } from 'react';\n\nfunction useWindowDimension() {\n  const [dimension, setDimension] = useState([window.innerWidth, window.innerHeight]);\n\n  useEffect(() => {\n    const resizeHandler = debounce(() => {\n      setDimension([window.innerWidth, window.innerHeight]);\n    }, 200); // ms\n\n    window.addEventListener('resize', resizeHandler);\n    return () => window.removeEventListener('resize', resizeHandler);\n  }, []);\n\n  return dimension;\n}\n\nconst debounce = <T extends (...args: unknown[]) => unknown>(callback: T, waitFor: number) => {\n  let timeout: NodeJS.Timeout;\n  return (...args: Parameters<T>): ReturnType<T> | undefined => {\n    let result: ReturnType<T> | undefined;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      result = callback(...args) as ReturnType<T>;\n    }, waitFor);\n    return result;\n  };\n};\n\nexport default useWindowDimension;\n","import { useEffect, useRef, useState } from 'react';\n\n// material-ui\nimport { Box } from '@mui/material';\n\n// project imports\nimport useWindowDimension from '@/hooks/useWindowDimension';\n\nconst SUPPORTED_FILE_TYPES = ['application/pdf', 'application/json', 'image/*', 'text/*', 'video/*', 'audio/*'];\n\ninterface PreviewProps {\n  file?: File;\n}\n\nconst Preview = ({ file }: PreviewProps) => {\n  const dimension = useWindowDimension();\n  const iframeRef = useRef<HTMLIFrameElement | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string>();\n\n  useEffect(() => {\n    if (file && SUPPORTED_FILE_TYPES.some((type) => file.type.match(type))) {\n      setPreviewUrl(URL.createObjectURL(file));\n    } else {\n      setPreviewUrl(undefined);\n    }\n  }, [file]);\n\n  if (!file || !previewUrl) {\n    return null;\n  }\n\n  const handleIframeLoad = () => {\n    if (iframeRef.current && iframeRef.current.contentWindow) {\n      const iframe = iframeRef.current;\n      const iframeWindow = iframeRef.current.contentWindow;\n\n      const iframeDocument = iframeWindow.document;\n      const iframeHeight = iframe.clientHeight;\n      const iframeWidth = iframe.clientWidth;\n\n      const contentHeight = iframeDocument.documentElement.scrollHeight;\n      const contentWidth = iframeDocument.documentElement.scrollWidth;\n\n      const scaleX = iframeWidth / contentWidth;\n      const scaleY = iframeHeight / contentHeight;\n      const scale = Math.min(scaleX, scaleY);\n\n      iframe.style.transform = `scale(${scale})`;\n      iframe.style.transformOrigin = 'top left';\n      iframe.style.width = `${contentWidth}px`;\n      iframe.style.height = `${contentHeight}px`;\n    }\n  };\n\n  const renderPreview = () => {\n    if (file.type.startsWith('image/')) {\n      return (\n        <img\n          src={previewUrl}\n          alt=\"Preview\"\n          style={{ width: '100%', height: '100%', maxHeight: '33vh', objectFit: 'cover' }}\n        />\n      );\n    }\n\n    return (\n      <iframe\n        key={`${dimension}`}\n        ref={iframeRef}\n        src={previewUrl}\n        title=\"Preview\"\n        onLoad={handleIframeLoad}\n        style={{ width: '100%', height: '33vh', border: 'none' }}\n      />\n    );\n  };\n\n  return (\n    <Box sx={{ mx: -1, overflow: 'hidden' }}>\n      <Box key={previewUrl} sx={{ width: '100%', height: '33vh', px: 1 }}>\n        {renderPreview()}\n      </Box>\n    </Box>\n  );\n};\n\nexport default Preview;\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\n// material-ui\nimport { Autocomplete, Button, Grid, Stack, TextField } from '@mui/material';\n\n// third party\nimport { Controller, useForm } from 'react-hook-form';\n\n// project imports\nimport FileSelector from '@/ui-component/FileSelecter';\nimport Preview from '@/ui-component/Preview';\nimport SebraForm, { FormProps } from '@/ui-component/SebraForm';\nimport { DocumentContent } from '@/utils';\nimport { useDocuments } from '../hooks/useDocumentsQueries';\n\n// assets\nimport { CloudDownload } from '@mui/icons-material';\n\n// ==============================|| DOCUMENT FORM ||============================== //\n\nconst DocumentForm = ({ formProps, ...rest }: FormProps<DocumentContent>) => {\n  const location = useLocation();\n  const enableExistingDocuments = !location.pathname.startsWith('/documents');\n\n  const { data: documents = [] } = useDocuments();\n\n  const {\n    control,\n    handleSubmit,\n    watch,\n    setValue,\n    formState: { errors }\n  } = useForm<DocumentContent>(formProps);\n\n  const fields = watch();\n\n  const handleFileChange = (data: File) => {\n    setValue('documentName', data.name);\n    setValue('content', data);\n  };\n\n  useEffect(() => {\n    if (fields.documentId) {\n      const document = documents.find((doc) => doc.documentId === fields.documentId);\n      if (document) {\n        setValue('documentName', document.documentName);\n        setValue('content', document.content);\n      }\n    } else {\n      setValue('documentName', '');\n      setValue('content', undefined!);\n    }\n  }, [fields.documentId, setValue, documents]);\n\n  return (\n    <SebraForm {...rest} handleSubmit={handleSubmit}>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6}>\n          <Controller\n            control={control}\n            name=\"documentName\"\n            rules={{ required: true }}\n            defaultValue=\"\"\n            render={({ field, fieldState }) => (\n              <TextField\n                fullWidth\n                label=\"Dokumentnamn\"\n                type=\"text\"\n                margin=\"none\"\n                {...field}\n                error={!!fieldState.error}\n              />\n            )}\n          />\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Controller\n            control={control}\n            name=\"content\"\n            rules={{ required: true }}\n            render={({ field }) => (\n              <TextField\n                fullWidth\n                label=\"Dokument\"\n                type=\"text\"\n                margin=\"none\"\n                value={field.value?.name || ''}\n                disabled\n                error={!!errors.content}\n                InputProps={{ endAdornment: fields.content?.type }}\n              />\n            )}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Preview file={fields.content} />\n        </Grid>\n        <Grid item xs={12}>\n          <Stack spacing={2} direction=\"row\">\n            <FileSelector onChange={handleFileChange}>\n              {fields.content ? 'Ersätt dokument' : 'Välj dokument'}\n            </FileSelector>\n            <Button\n              startIcon={<CloudDownload />}\n              variant=\"contained\"\n              href={fields.content ? URL.createObjectURL(fields.content) : '#'}\n              download={fields.documentName}\n              disabled={!fields.content}\n            >\n              Ladda ner\n            </Button>\n          </Stack>\n        </Grid>\n        <Grid item xs={12}>\n          {enableExistingDocuments && (\n            <Controller\n              name=\"documentId\"\n              control={control}\n              render={({ field }) => (\n                <Autocomplete\n                  options={documents}\n                  getOptionKey={(option) => option.documentId}\n                  getOptionLabel={(option) => option.documentName}\n                  value={documents.find((document) => document.documentId === field.value) || null}\n                  onChange={(_, value) => field.onChange(value ? value.documentId : undefined)}\n                  renderInput={(params) => (\n                    <TextField {...params} label=\"Välj existerande dokument\" variant=\"outlined\" fullWidth />\n                  )}\n                />\n              )}\n            />\n          )}\n        </Grid>\n      </Grid>\n    </SebraForm>\n  );\n};\n\nexport default DocumentForm;\n"],"names":["CloudDownload","createSvgIcon","_jsx","CloudUpload","fetchDocumentReferences","where","selectAllQuery","createDocumentReference","values","validateRequiredFields","insertQuery","pick","updateDocumentReference","row","deleteDocumentReference","deleteQuery","useSaveDocument","queryClient","useQueryClient","showSnackbar","useSnackbar","useMutation","saveFileToIndexedDB","useDeleteDocument","params","deleteFileFromIndexedDB","useCreateDocumentReference","useUpdateDocumentReference","useDeleteDocumentReference","useDocuments","useQuery","getAllFilesFromIndexedDB","useDocument","documentId","getFileFromIndexedDB","useDocumentReferences","FileSelector","onChange","children","rest","handleFileChange","event","file","_a","jsxs","Button","jsx","useWindowDimension","dimension","setDimension","useState","useEffect","resizeHandler","debounce","callback","waitFor","timeout","args","result","SUPPORTED_FILE_TYPES","Preview","iframeRef","useRef","previewUrl","setPreviewUrl","type","handleIframeLoad","iframe","iframeDocument","iframeHeight","iframeWidth","contentHeight","contentWidth","scaleX","scaleY","scale","renderPreview","Box","DocumentForm","formProps","enableExistingDocuments","useLocation","documents","control","handleSubmit","watch","setValue","errors","useForm","fields","data","document","doc","SebraForm","Grid","Controller","field","fieldState","TextField","_b","Stack","Autocomplete","option","_","value"],"mappings":"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","x_google_ignoreList":[0,1]}