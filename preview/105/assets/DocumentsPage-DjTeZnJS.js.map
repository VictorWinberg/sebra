{"version":3,"file":"DocumentsPage-DjTeZnJS.js","sources":["../../src/features/documents/config/DocumentConfig.tsx","../../src/features/documents/pages/DocumentsPage.tsx"],"sourcesContent":["import { Link as RouterLink } from 'react-router-dom';\n\n// material-ui\nimport { Link } from '@mui/material';\nimport { MRT_ColumnDef } from 'material-react-table';\n\n// third party\nimport dayjs, { Dayjs } from 'dayjs';\n\n// project imports\nimport { DocumentContent, formatDate, toLocalTime } from '@/utils';\n\n// ==============================|| DOCUMENT CONFIG ||============================== //\n\nexport const documentColumns: MRT_ColumnDef<DocumentContent>[] = [\n  {\n    accessorKey: 'documentName',\n    header: 'Dokumentnamn',\n    Cell: ({ cell, row }) => (\n      <Link component={RouterLink} to={`/documents/${row.original.documentId}`}>\n        {cell.getValue<string>()}\n      </Link>\n    )\n  },\n  { accessorKey: 'content.type', accessorFn: (row) => row.content?.type, header: 'Filtyp' },\n  {\n    accessorKey: 'content.lastModified',\n    accessorFn: (row) => dayjs(row.content?.lastModified),\n    header: 'Senast uppdaterad',\n    filterVariant: 'date-range',\n    enableEditing: false,\n    Cell: ({ cell }) => formatDate(toLocalTime(cell.getValue<Dayjs>()))\n  }\n];\n","// material-ui\nimport { Button } from '@mui/material';\n\n// project imports\nimport DataTable from '@/ui-component/DataTable';\nimport FlexGrow from '@/ui-component/extended/FlexGrow';\nimport SebraDialog from '@/ui-component/SebraDialog';\nimport { DocumentContent } from '@/utils';\nimport DocumentForm from '../components/DocumentForm';\nimport { documentColumns } from '../config/DocumentConfig';\nimport { useDeleteDocument, useSaveDocument } from '../hooks/useDocumentsMutations';\nimport { useDocuments } from '../hooks/useDocumentsQueries';\n\n// assets\nimport AddIcon from '@mui/icons-material/Add';\n\n// ==============================|| DOCUMENTS PAGE ||============================== //\n\nconst DocumentPage = () => {\n  const { data = [], isLoading } = useDocuments();\n  const { mutate: saveDocument } = useSaveDocument();\n  const { mutate: deleteDocument } = useDeleteDocument();\n\n  if (isLoading) return;\n\n  return (\n    <FlexGrow>\n      <DataTable<DocumentContent>\n        data={data}\n        columns={documentColumns}\n        getRowId={(row) => `${row.documentId}`}\n        state={{ isLoading }}\n        onCreate={(row) => saveDocument(row)}\n        onUpdate={(row) => saveDocument(row)}\n        onDelete={(row) => deleteDocument(row)}\n        renderTopToolbarCustomActions={({ table }) => (\n          <Button\n            onClick={() => table.setCreatingRow(true)}\n            variant=\"outlined\"\n            size=\"small\"\n            startIcon={<AddIcon />}\n            sx={{ textTransform: 'none' }}\n          >\n            Lägg till dokument\n          </Button>\n        )}\n        renderEditRowDialogContent={({ row, table }) => (\n          <SebraDialog\n            table={table}\n            row={row}\n            titles={{ creating: 'Lägg till dokument', editing: 'Redigera dokument' }}\n            FormComponent={DocumentForm}\n          />\n        )}\n      />\n    </FlexGrow>\n  );\n};\n\nexport default DocumentPage;\n"],"names":["documentColumns","cell","row","Link","RouterLink","_a","dayjs","formatDate","toLocalTime","DocumentPage","data","isLoading","useDocuments","saveDocument","useSaveDocument","deleteDocument","useDeleteDocument","FlexGrow","jsx","DataTable","table","Button","AddIcon","SebraDialog","DocumentForm"],"mappings":"s1BAcO,MAAMA,EAAoD,CAC/D,CACE,YAAa,eACb,OAAQ,eACR,KAAM,CAAC,CAAE,KAAAC,EAAM,IAAAC,CAAI,UAChBC,EAAK,CAAA,UAAWC,EAAY,GAAI,cAAcF,EAAI,SAAS,UAAU,GACnE,SAAAD,EAAK,WACR,CAEJ,EACA,CAAE,YAAa,eAAgB,WAAaC,UAAQ,OAAAG,EAAAH,EAAI,UAAJ,YAAAG,EAAa,MAAM,OAAQ,QAAS,EACxF,CACE,YAAa,uBACb,WAAaH,GAAQ,OAAA,OAAAI,GAAMD,EAAAH,EAAI,UAAJ,YAAAG,EAAa,YAAY,GACpD,OAAQ,oBACR,cAAe,aACf,cAAe,GACf,KAAM,CAAC,CAAE,KAAAJ,KAAWM,EAAWC,EAAYP,EAAK,SAAgB,CAAC,CAAC,CACpE,CACF,ECfMQ,EAAe,IAAM,CACzB,KAAM,CAAE,KAAAC,EAAO,CAAA,EAAI,UAAAC,GAAcC,EAAa,EACxC,CAAE,OAAQC,CAAa,EAAIC,EAAgB,EAC3C,CAAE,OAAQC,CAAe,EAAIC,EAAkB,EAEjD,GAAA,CAAAL,EAEJ,aACGM,EACC,CAAA,SAAAC,EAAA,IAACC,EAAA,CACC,KAAAT,EACA,QAASV,EACT,SAAWE,GAAQ,GAAGA,EAAI,UAAU,GACpC,MAAO,CAAE,UAAAS,CAAU,EACnB,SAAWT,GAAQW,EAAaX,CAAG,EACnC,SAAWA,GAAQW,EAAaX,CAAG,EACnC,SAAWA,GAAQa,EAAeb,CAAG,EACrC,8BAA+B,CAAC,CAAE,MAAAkB,CAAA,IAChCF,EAAA,IAACG,EAAA,CACC,QAAS,IAAMD,EAAM,eAAe,EAAI,EACxC,QAAQ,WACR,KAAK,QACL,gBAAYE,EAAQ,EAAA,EACpB,GAAI,CAAE,cAAe,MAAO,EAC7B,SAAA,oBAAA,CAED,EAEF,2BAA4B,CAAC,CAAE,IAAApB,EAAK,MAAAkB,CAClC,IAAAF,EAAA,IAACK,EAAA,CACC,MAAAH,EACA,IAAAlB,EACA,OAAQ,CAAE,SAAU,qBAAsB,QAAS,mBAAoB,EACvE,cAAesB,CAAA,CACjB,CAAA,CAGN,CAAA,CAAA,CAEJ"}