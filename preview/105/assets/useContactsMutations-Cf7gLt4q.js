import{j as t,G as s,A as o,w as i,x as l,y as d,z as m}from"./index-DD4P4jMh.js";import{u as y,C as h}from"./index.esm-BT4kVm2W.js";import{u as C}from"./useCompaniesQueries-DipgGHb4.js";import{S as g,A as k}from"./SebraForm-1SEXVzz2.js";import{c as j,b as S,d as w,e as E,f as v,g as q}from"./useContactsQueries-CzEw9fDO.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="7cb91487-08c5-442b-9d5f-cfa601f48754",e._sentryDebugIdIdentifier="sentry-dbid-7cb91487-08c5-442b-9d5f-cfa601f48754")}catch{}})();const D=({formProps:e,...a})=>{const{data:n=[]}=C(),{register:u,control:f,handleSubmit:b,formState:{errors:x}}=y(e);return t.jsx(g,{...a,handleSubmit:b,children:t.jsxs(s,{container:!0,spacing:2,children:[t.jsx(s,{item:!0,xs:12,children:t.jsx(o,{fullWidth:!0,label:"Namn",type:"text",margin:"none",...u("contactName",{required:!0}),error:!!x.contactName})}),t.jsx(s,{item:!0,xs:12,sm:6,children:t.jsx(o,{fullWidth:!0,label:"Email",type:"text",margin:"none",...u("email")})}),t.jsx(s,{item:!0,xs:12,sm:6,children:t.jsx(o,{fullWidth:!0,label:"Telefonnummer",type:"text",margin:"none",...u("phone")})}),t.jsx(s,{item:!0,xs:12,sm:6,children:t.jsx(h,{name:"company",control:f,render:({field:p})=>t.jsx(k,{options:n,getOptionKey:r=>r.id,getOptionLabel:r=>r.companyName,value:n.find(r=>{var c;return r.id===((c=p.value)==null?void 0:c.id)})||null,onChange:(r,c)=>p.onChange(c??void 0),renderInput:r=>t.jsx(o,{...r,label:"Bolag",variant:"outlined",fullWidth:!0})})})}),t.jsx(s,{item:!0,xs:12,sm:6,children:t.jsx(o,{fullWidth:!0,label:"Befattning",type:"text",margin:"none",...u("jobTitle")})})]})})},G=()=>{const{data:e}=i(),a=l(),{showSnackbar:n}=d();return m({mutationFn:e?j:S,onSuccess:()=>{a.invalidateQueries({queryKey:["contacts"]}),n("Kontakt skapat!")},onError:()=>{n("Ett fel uppstod när kontakten skulle skapas.","error")}})},W=()=>{const{data:e}=i(),a=l(),{showSnackbar:n}=d();return m({mutationFn:e?w:E,onSuccess:()=>{a.invalidateQueries({queryKey:["contacts"]}),n("Kontakt uppdaterat!")},onError:()=>{n("Ett fel uppstod när kontakten skulle uppdateras.","error")}})},_=()=>{const{data:e}=i(),a=l(),{showSnackbar:n}=d();return m({mutationFn:e?v:q,onSuccess:()=>{a.invalidateQueries({queryKey:["contacts"]}),n("Kontakt borttaget!")},onError:()=>{n("Ett fel uppstod när kontakten skulle tas bort.","error")}})};export{D as C,W as a,_ as b,G as u};
//# sourceMappingURL=useContactsMutations-Cf7gLt4q.js.map
