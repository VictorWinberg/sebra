import{j as t,g as a,L as s}from"./index-Ck7X9mQB.js";import{D as d,a as u,b as p,M as h}from"./useSnackbar-DP4Y4pMD.js";import{D as x}from"./DataTable-DNvItwIO.js";import{u as A,a as j,b as C,A as f}from"./useAssignmentsMutations-EjIdYu6n.js";const F=({assignments:o,isLoading:r,defaultValues:i})=>{const{mutate:c}=A(),{mutate:l}=j(),{mutate:m}=C();return t.jsx(x,{data:o,getRowId:e=>`${e.assignmentId}`,state:{isLoading:r},columns:[{accessorKey:"assignmentName",header:"Uppdrag",Cell:({cell:e,row:n})=>t.jsx(a,{component:s,to:`/home/assignments/${n.original.assignmentId}`,children:e.getValue()})},{accessorFn:e=>{var n;return(n=e.responsiblePerson)==null?void 0:n.contactName},header:"Ansvarig",enableEditing:!1,Cell:({cell:e,row:n})=>t.jsx(a,{component:s,to:`/home/contacts/${n.original.responsiblePersonId}`,children:e.getValue()})},{accessorFn:e=>{var n;return(n=e.externalContactPerson)==null?void 0:n.contactName},header:"Extern",enableEditing:!1,Cell:({cell:e,row:n})=>t.jsx(a,{component:s,to:`/home/contacts/${n.original.externalContactPersonId}`,children:e.getValue()})},{accessorFn:e=>{var n;return(n=e.company)==null?void 0:n.companyName},header:"Bolag",enableEditing:!1,Cell:({cell:e,row:n})=>t.jsx(a,{component:s,to:`/home/companies/${n.original.companyId}`,children:e.getValue()})},{accessorKey:"status",header:"Status"},{accessorKey:"fee",header:"Arvode",Cell:({cell:e})=>e.getValue().toLocaleString("sv-SE",{style:"currency",currency:"SEK",minimumFractionDigits:0,maximumFractionDigits:0})}],renderEditRowDialogContent:({row:e,table:n})=>t.jsxs(t.Fragment,{children:[t.jsx(d,{variant:"h4",color:"primary",children:n.getState().creatingRow?"Ny referens":"Redigera referens"}),t.jsx(u,{children:t.jsx(f,{sx:{mt:1},formProps:{defaultValues:{...i,...e.original}},onChange:g=>{e._valuesCache=g}})}),t.jsx(p,{children:t.jsx(h,{row:e,table:n,variant:"text"})})]}),onCreate:e=>c(e),onUpdate:e=>l(e),onDelete:e=>m(e)})};export{F as A};
