import{j as i,B as p,f as m}from"./index-CeKf2DZs.js";import{g as f,h as C,C as S}from"./useSnackbar-CnUs8Pc_.js";function B(n,s){const{getState:l,options:{onCreatingRowCancel:e,onCreatingRowSave:o,onEditingRowCancel:r,onEditingRowSave:t},setCreatingRow:a,setEditingRow:c}=n,{creatingRow:d,editingRow:x,isSaving:j}=l(),h=(d==null?void 0:d.id)===s.id,u=(x==null?void 0:x.id)===s.id;return{creatingRow:d,isSaving:j,handleCancel:()=>{h?(e==null||e({row:s,table:n}),a(null)):u&&(r==null||r({row:s,table:n}),c(null))},handleSubmit:g=>{h?o==null||o({exitCreatingMode:()=>a(null),row:s,table:n,values:g}):u&&(t==null||t({exitEditingMode:()=>c(null),row:s,table:n,values:g}))}}}const E=({table:n,row:s,titles:l,FormComponent:e,defaultValues:o})=>{const{creatingRow:r,isSaving:t,handleCancel:a,handleSubmit:c}=B(n,s);return i.jsxs(i.Fragment,{children:[i.jsx(f,{variant:"h4",color:"primary",children:r?l.creating:l.editing}),i.jsx(C,{children:i.jsx(e,{sx:{mt:1},formProps:{values:{...o,...s.original}},onSubmit:c,renderBottomContent:()=>i.jsxs(p,{sx:{mt:3,ml:"auto"},children:[i.jsx(m,{color:"error",onClick:()=>{n.setEditingRow(null),console.log(n)},children:"Ta bort"}),i.jsx(m,{onClick:a,sx:{minWidth:"100px"},children:"Avbryt"}),i.jsxs(m,{disabled:t,type:"submit",sx:{minWidth:"100px"},variant:"contained",children:[t&&i.jsx(S,{color:"inherit",size:18}),"Spara"]})]})})})]})};export{E as S};
