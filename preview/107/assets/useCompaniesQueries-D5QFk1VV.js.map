{"version":3,"file":"useCompaniesQueries-D5QFk1VV.js","sources":["../../src/features/companies/api/companiesApi.ts","../../src/features/companies/hooks/useCompaniesQueries.ts"],"sourcesContent":["import { deleteQuery, query, insertQuery, updateQuery, selectOneQuery } from '@/api/DummyDB';\nimport { pick } from '@/utils';\n\nexport type Company = {\n  companyId: number;\n  companyName: string;\n  address: string;\n  industry: string;\n  phone: string;\n  email: string;\n  website: string;\n  organizationNumber: string;\n  createdAt: string;\n  updatedAt: string;\n};\n\nexport const fetchCompanies = async () => {\n  return await query<Company>(`SELECT * FROM companies ORDER BY company_name`);\n};\n\nexport const fetchCompany = async (companyId: number) => {\n  return await selectOneQuery<Company>('companies', { companyId });\n};\n\nexport const createCompany = async (company: Partial<Company>) => {\n  return await insertQuery<Company>(\n    'companies',\n    pick(company, ['companyName', 'address', 'industry', 'phone', 'email', 'website', 'organizationNumber'])\n  );\n};\n\nexport const updateCompany = async (company: Partial<Company>) => {\n  return await updateQuery<Company>(\n    'companies',\n    pick(company, ['companyName', 'address', 'industry', 'phone', 'email', 'website', 'organizationNumber']),\n    pick(company, ['companyId'])\n  );\n};\n\nexport const deleteCompany = async ({ companyId }: Pick<Company, 'companyId'>) => {\n  return await deleteQuery<Company>('companies', { companyId });\n};\n","import { useQuery } from '@tanstack/react-query';\n\nimport { fetchCompanies, fetchCompany } from '../api/companiesApi';\n\nexport const useCompanies = () => {\n  return useQuery({ queryKey: ['companies'], queryFn: fetchCompanies });\n};\n\nexport const useCompany = (companyId: number | undefined) => {\n  return useQuery({\n    queryKey: ['company', companyId],\n    queryFn: () => fetchCompany(companyId!),\n    enabled: !!companyId\n  });\n};\n"],"names":["fetchCompanies","query","fetchCompany","companyId","selectOneQuery","createCompany","company","insertQuery","pick","updateCompany","updateQuery","deleteCompany","deleteQuery","useCompanies","useQuery","useCompany"],"mappings":"ibAgBO,MAAMA,EAAiB,SACrB,MAAMC,EAAe,+CAA+C,EAGhEC,EAAe,MAAOC,GAC1B,MAAMC,EAAwB,YAAa,CAAE,UAAAD,CAAW,CAAA,EAGpDE,EAAgB,MAAOC,GAC3B,MAAMC,EACX,YACAC,EAAKF,EAAS,CAAC,cAAe,UAAW,WAAY,QAAS,QAAS,UAAW,oBAAoB,CAAC,CAAA,EAI9FG,EAAgB,MAAOH,GAC3B,MAAMI,EACX,YACAF,EAAKF,EAAS,CAAC,cAAe,UAAW,WAAY,QAAS,QAAS,UAAW,oBAAoB,CAAC,EACvGE,EAAKF,EAAS,CAAC,WAAW,CAAC,CAAA,EAIlBK,EAAgB,MAAO,CAAE,UAAAR,KAC7B,MAAMS,EAAqB,YAAa,CAAE,UAAAT,CAAW,CAAA,ECpCjDU,EAAe,IACnBC,EAAS,CAAE,SAAU,CAAC,WAAW,EAAG,QAASd,EAAgB,EAGzDe,EAAcZ,GAClBW,EAAS,CACd,SAAU,CAAC,UAAWX,CAAS,EAC/B,QAAS,IAAMD,EAAaC,CAAU,EACtC,QAAS,CAAC,CAACA,CAAA,CACZ"}