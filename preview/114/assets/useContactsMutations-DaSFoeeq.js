import{j as e,G as o,N as s,I as l,J as c,K as d,M as m}from"./index-DEXIwwaE.js";import{u as b,C}from"./index.esm-BRAK56kJ.js";import{u as g}from"./useCompaniesQueries-CL33zmna.js";import{S as h,A as k}from"./SebraForm-CheJAgv2.js";import{c as j,b as S,d as E,e as q,f as v,g as w}from"./useContactsQueries-BIvpCp3L.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new t.Error().stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="eaf3d90e-2f6a-47d7-9f52-8a84c62e0022",t._sentryDebugIdIdentifier="sentry-dbid-eaf3d90e-2f6a-47d7-9f52-8a84c62e0022")}catch{}})();const Q=({formProps:t,...a})=>{const{data:n=[]}=g(),{register:i,control:x,handleSubmit:y,formState:{errors:p}}=b(t);return e.jsx(h,{...a,handleSubmit:y,children:e.jsxs(o,{container:!0,spacing:2,children:[e.jsx(o,{item:!0,xs:12,children:e.jsx(s,{fullWidth:!0,label:"Namn",type:"text",margin:"none",...i("contactName",{required:!0}),error:!!p.contactName})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(s,{fullWidth:!0,label:"Email",type:"email",margin:"none",...i("email",{required:!0}),error:!!p.email})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(s,{fullWidth:!0,label:"Telefonnummer",type:"text",margin:"none",...i("phone")})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(C,{name:"company",control:x,render:({field:f})=>e.jsx(k,{options:n,getOptionKey:r=>r.id,getOptionLabel:r=>r.companyName,value:n.find(r=>{var u;return r.id===((u=f.value)==null?void 0:u.id)})||null,onChange:(r,u)=>f.onChange(u??void 0),renderInput:r=>e.jsx(s,{...r,label:"Bolag",variant:"outlined",fullWidth:!0})})})}),e.jsx(o,{item:!0,xs:12,sm:6,children:e.jsx(s,{fullWidth:!0,label:"Befattning",type:"text",margin:"none",...i("jobTitle")})})]})})},G=()=>{const[{isDemo:t}]=l(),a=c(),{showSnackbar:n}=d();return m({mutationFn:t?j:S,onSuccess:()=>{a.invalidateQueries({queryKey:["contacts"]}),n("Kontakt skapat!")},onError:()=>{n("Ett fel uppstod när kontakten skulle skapas.","error")}})},N=()=>{const[{isDemo:t}]=l(),a=c(),{showSnackbar:n}=d();return m({mutationFn:t?E:q,onSuccess:()=>{a.invalidateQueries({queryKey:["contacts"]}),n("Kontakt uppdaterat!")},onError:()=>{n("Ett fel uppstod när kontakten skulle uppdateras.","error")}})},W=()=>{const[{isDemo:t}]=l(),a=c(),{showSnackbar:n}=d();return m({mutationFn:t?v:w,onSuccess:()=>{a.invalidateQueries({queryKey:["contacts"]}),n("Kontakt borttaget!")},onError:()=>{n("Ett fel uppstod när kontakten skulle tas bort.","error")}})};export{Q as C,N as a,W as b,G as u};
//# sourceMappingURL=useContactsMutations-DaSFoeeq.js.map
